---
layout: post
toc: true
title: "SwiftUI를 통해 보는 프로그래밍 패러다임"
categories: ios
tags: [ios, swift, ui]
---

![SwiftUI](https://user-images.githubusercontent.com/7419790/95643315-74502800-0ae9-11eb-801a-c1bc555b9287.jpg)


이번 **WWDC19**에서 애플은 iOS의 `UIKit`과 MacOS의 `AppKit`을 대체할 새로운 UI 개발 프레임워크인 `SwiftUI`를 소개하였다. 애플은 7개나 되는 세션을 `SwiftUI`와 관련된 내용으로 채운 만큼 이번 **WWDC19**에서 가장 주요한 내용 중 하나로 포지셔닝하였다.

가장 최신의 언어 중 하나인 Swift가 최신의 프로그래밍 패러다임과 철학들을 잘 담고 있듯이 SwiftUI 또한 애플이 미래의 UI개발 환경을 위해 고민한 결과인 만큼 의미 있는 철학들을 반영하고 있다. 그렇기 때문에 `SwiftUI`의 구성을 하나하나 음미해보는 것은 거꾸로 최신의 프로그래밍 철학이 어떤 것들을 더 주목할 필요가 있는지 파악할 수 있는 기회이기도 하다.

이러한 의미에서 필자가 생각한 `SwiftUI`에 녹아있는 주요 프로그래밍 패러다임에 대해 정리해 보았다. 단순히 `SwiftUI`의 사용 방법에 대해서만 익숙해지는 것보다 훨씬 더 대한 이해를 높이고 `SwiftUI`기반의 새로운 iOS 프로그래밍 아키텍처를 논의하는데도 탄탄한 바탕이 될 것이다.


## 1. 선언형 프로그래밍
`SwiftUI`의 가장 기본이 되는 패러다임은 선언형 프로그래밍(Declarative Programming)으로 애플도 여러 세션에서 `SwiftUI`가 선언형임을 반복적으로 강조하고 있다.

선언형 프로그래밍은 명령형 프로그래밍(Imperative Programming)과 대비되는 개념으로 프로그램이 수행해야 하는 동작을 나열하는 것이 아니라 결과적으로 최족 목표를 제시하는 프로그래밍 방법이다. 이해를 위해 아래 예제를 참고해보자.

> **명령형으로 아보카도 토스트 만들기**
> 1. 재료를 준비한다 : 아보카도, 빵, 아몬드 버터, 소금, 레드 페퍼
> 2. 도구를 준비한다 : 토스터, 접시, 버터 나이프
> 3. 빵을 살짝 토스터에 데운다
> 4. 접시에 빵을 올려놓는다
> 5. 아몬드 버터를 빵위에 얇게 펴바른다
> 6. 아보카도를 긴 방향으로 반으로 자른다
> 7. 아보카도 씨를 제거한다
> ...

> **선언형으로 아보카도 토스트 만들기**
> 1. 아몬드 버터, 소금, 레드 페퍼를 넣은 아보카도 토스트

이 때 선언형 프로그래밍은 여러 절차들을 단순히 하나로 묶어내 캡슐화 한 것과는 다르다는 점에 주의하여야 한다. 

> **~~선언형으로~~ 아보카도 토스트 만들기**
> 1. 재료를 준비한다 : 아보카도, 빵, 아몬드 버터, 소금, 레드 페퍼
> 2. 도구를 준비한다 : 토스터, 접시, 버터 나이프
> 3. 아보카도 토스트를 만든다

물론 컴퓨터 CPU 동작 방식 자체가 명령형으로 동작하기 때문에 모든 프로그램을 선언형으로만 작성하는 것은 불가하다. 따라서 선언형 프로그래밍을 위해서는 복잡한 명령형 코드가 추상화된 프레임워크/라이브러리가 필요하다.

`SwiftUI` 또한 `protocol`을 통해 선언형의 외형으로 추상화 되어 있지만 내부적으로는 SwiftUI 프레임워크와 컴파일러에 의해 명령형의 코드가 동작하며 UI요소들을 그리도록 되어 있다.

물론 `SwiftUI`는 UI요소를 만드는 것을 한번 더 추상화된 형태이기 때문에 기본적으로는 `UIKit`만큼의 자유도를 가지고 UI를 구현하지는 못한다. 이를 보완하기 위해 애플은 `UIKit`으로 커스텀 뷰를 만들고 그것을 `SwiftUI`에 적용하는 방법을 제시하였다.


## 2. 함수형 프로그래밍
함수형 프로그래밍(Functional Programming)은 

함수형 프로그래밍은 외형적으로는 Functional Chaining으로 구현되는 경우가 대부분이다.


## 3. 리액티브 프로그래밍
리액티브 프로그래밍(Reactive Programming)은 SwiftUI 뿐만 아니라 WWDC19에서 새롭게 발표된 Combine 프레임워크와 조합되어 구현된다.

리액티브 프로그래밍은 해결하고자 하는 상황은 하는 비동기 명확하게 

한편 Swift 진영에서는 RxSwift라는 리액티브 프로그래밍을 위한 라이브러리로 이미 널리 쓰이고 있는 상황이다. SwiftUI와 Combine 강력한 Firsy Party 프레임워크가 나온만큼 향후 RxSwift의 운명이 궁금해진다.


## 결론
앞에서 선언형, 함수형, 리액티브을 각각 설명하였지만 사실 세가지 개념은 완전히 별개의 개념은 아니다.


## 참고자료
- [WWDC19 - SwiftUI Essentials](https://wwdc.io/share/wwdc19/216)
- [WWDC19 - Introducing Combine](https://wwdc.io/share/wwdc19/722)
- [Wikipedia - Declarative programming](https://en.wikipedia.org/wiki/Declarative_programming)